{% extends 'base.html' %}

{% block title %}Eliminar Paciente - MakiMotion{% endblock %}

{% block content %}
<div class="form-container">
    <div class="form-header">
        <h2>Confirmar Eliminación</h2>
        <p class="form-subtitle">Esta acción no se puede deshacer</p>
    </div>
    
    <div class="form-card">
        <div class="alert alert-error">
            <strong>⚠️ Advertencia:</strong>
            <p>Estás a punto de eliminar permanentemente al paciente <strong>{{ patient.full_name }}</strong>.</p>
            {% if appointment_count > 0 %}
                <p>También se eliminarán <strong>{{ appointment_count }}</strong> cita{{ appointment_count|pluralize }} asociada{{ appointment_count|pluralize }} a este paciente.</p>
            {% endif %}
            <p>Esta acción no se puede deshacer.</p>
        </div>
        
        <div class="patient-summary">
            <h3>Información del Paciente a Eliminar</h3>
            <div class="detail-item">
                <strong>Nombre Completo:</strong>
                <span>{{ patient.full_name }}</span>
            </div>
            <div class="detail-item">
                <strong>Edad:</strong>
                <span>{{ patient.age }} años</span>
            </div>
            <div class="detail-item">
                <strong>Diagnóstico:</strong>
                <span>{{ patient.diagnosis }}</span>
            </div>
            <div class="detail-item">
                <strong>Registrado:</strong>
                <span>{{ patient.created_at|date:"d/m/Y H:i" }}</span>
            </div>
            <div class="detail-item">
                <strong>Citas Registradas:</strong>
                <span>{{ appointment_count }}</span>
            </div>
        </div>
        
        <form method="post" class="delete-form">
            {% csrf_token %}
            <div class="form-actions">
                <button type="submit" class="btn btn-danger">
                    Sí, Eliminar Paciente
                </button>
                <a href="{% url 'patient_detail' patient.pk %}" class="btn btn-secondary">
                    Cancelar
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}